<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Natural Prestige Lip Glow Treatment</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Tổng container */
        .product-container {
            display: flex;
            gap: 30px;
            padding: 30px;
            background: #fff;
            border-radius: 12px;
            max-width: 100%;
            flex-wrap: wrap;
        }

        /* Hình ảnh sản phẩm */
        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
            max-width: 450px;
        }

        .main-image {
            width: 100%;
            border: 1px solid #eaeaea;
            border-radius: 8px;
            overflow: hidden;
        }

        .main-image img {
            width: 100%;
            height: auto;
            display: block;
            object-fit: cover;
        }

        .thumbnail-list {
            display: flex;
            gap: 10px;
            justify-content: start;
            flex-wrap: wrap;
        }

        .thumbnail-list img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border: 2px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            transition: border 0.3s;
        }

        .thumbnail-list img:hover,
        .thumbnail-list img.active {
            border: 2px solid #ee4d2d;
        }

        /* Chi tiết sản phẩm */
        .product-details {
            flex: 1.5;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .product-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin: 0;
        }

        .product-subtitle {
            font-size: 16px;
            color: #888;
            margin: 20px 0 20px 0;
        }

        /* Đánh giá */
        .product-rating .stars {
            font-size: 16px;
            color: #ffce3d;
            margin-bottom: 8px;
        }

        .rating-count,
        .sold-count {
            font-size: 14px;
            color: #555;
        }

        /* Giá */
        .price-container {
            background-color: #fff0e9;
            padding: 15px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 10px 0;
        }

        .current-price {
            font-size: 28px;
            color: #ee4d2d;
            font-weight: 700;
        }

        .original-price {
            font-size: 16px;
            color: #999;
            text-decoration: line-through;
        }

        /* Mô tả */
        .product-description p {
            font-size: 15px;
            line-height: 1.6;
            color: #444;
        }

        /* Tính năng nổi bật */
        .product-features {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        .product-features li {
            margin: 6px 0;
            font-size: 14px;
            color: #333;
            position: relative;
            padding-left: 20px;
        }

        .product-features li::before {
            content: "✓";
            color: green;
            position: absolute;
            left: 0;
        }

        .voucher-section,
        .combo-section,
        .shipping-section,
        .quantity-section {
            font-size: 14px;
            margin-top: 12px;
            color: #333;
        }

        .voucher-label {
            font-weight: bold;
            margin-right: 5px;
        }

        .voucher-code {
            background-color: #fff0e9;
            color: #ee4d2d;
            padding: 4px 8px;
            margin-right: 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 13px;
        }

        .quantity-section input[type="number"] {
            width: 60px;
            padding: 5px;
            margin-left: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .combo-section strong,
        .shipping-section strong {
            color: #555;
        }

        /* Nút mua hàng */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .add-to-cart,
        .buy-now {
            font-size: 16px;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s, transform 0.2s;
            min-width: 160px;
        }

        .add-to-cart {
            background-color: #ffb400;
            color: #fff;
        }

        .add-to-cart:hover {
            background-color: #e2a200;
        }

        .buy-now {
            background-color: #ee4d2d;
            color: white;
        }

        .buy-now:hover {
            background-color: #d94427;
        }

        .add-to-cart:active,
        .buy-now:active {
            transform: scale(0.97);
        }

        /* Tabs Section */
        .tabs-container {
            margin-top: 40px;
        }

        .tab {
            overflow: hidden;
            border-bottom: 1px solid #ccc;
            display: flex;
            flex-wrap: wrap;
        }

        .tablinks {
            background-color: inherit;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 16px;
            color: #333;
            flex: 1;
            text-align: center;
            min-width: 120px;
        }

        .tablinks:hover {
            background-color: #f8f8f8;
        }

        .tablinks.active {
            border-bottom: 3px solid #d8127d;
            color: #d8127d;
            font-weight: 600;
        }

        .tabcontent {
            display: none;
            padding: 20px 0;
            border-top: none;
        }

        .tab-content-wrapper {
            line-height: 1.6;
            color: #444;
        }

        .tab-content-wrapper p, .tab-content-wrapper ul, .tab-content-wrapper ol {
            margin-bottom: 15px;
        }

        .tab-content-wrapper ul, .tab-content-wrapper ol {
            padding-left: 25px;
        }

        /* Review Items */
        .review-item {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .review-item:last-child {
            border-bottom: none;
        }

        .review-item h3 {
            margin-bottom: 5px;
            font-size: 16px;
        }

        .review-stars {
            color: #ffb100;
            margin-left: 5px;
        }

        /* FAQ Section */
        .faq-section {
            margin: auto;
            width: 100%;
            background-color: #f9f9f9;
            padding: 30px;
            border-radius: 5px;
        }

        .section-title {
            font-size: 22px;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .faq-item {
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .faq-question {
            font-weight: 600;
            color: #333;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toggle-icon {
            color: #d8127d;
            font-size: 18px;
            font-weight: bold;
        }

        .faq-answer {
            margin-top: 10px;
            color: #666;
            display: none;
        }

        /* Recommended Skincare Routine và You May Also Like Section */
        .related-products, .you-may-also-like {
            margin-top: 60px;
            position: relative;
        }

        .product-grid-wrapper {
            position: relative;
            padding: 0 40px;
        }

        .product-grid {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .product-grid::-webkit-scrollbar {
            display: none;
        }

        .product-card {
            min-width: 250px;
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            background: #fff;
            transition: transform 0.3s, box-shadow 0.3s;
            flex: 0 0 auto;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .product-card-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            background: #f5f5f5;
        }

        .product-card-details {
            padding: 10px;
            text-align: left;
        }

        .product-card-title {
            font-size: 14px;
            font-weight: 600;
            color: #d8127d;
            margin-bottom: 5px;
        }

        .product-card-description {
            font-size: 12px;
            color: #333;
            margin-bottom: 5px;
        }

        .product-card-price {
            font-size: 16px;
            color: #d8127d;
            font-weight: 600;
        }

        /* Navigation Arrows */
        .nav-arrow {
            font-size: 24px;
            color: #c80064;
            cursor: pointer;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            padding: 10px;
            z-index: 10;
            display: block;
            transition: background 0.3s;
        }

        .nav-arrow:hover {
            background: wheat;
        }

        .nav-arrow.left {
            left: 0;
        }

        .nav-arrow.right {
            right: 0;
        }

        .nav-arrow:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .product-container {
                flex-direction: column;
            }
            
            .product-images, .product-details {
                width: 100%;
            }
            
            .tab {
                flex-direction: row;
                overflow-x: auto;
            }
            
            .tablinks {
                flex: none;
                padding: 12px 15px;
                font-size: 14px;
            }
            
            .product-grid {
                justify-content: flex-start;
            }
            
            .product-card {
                flex: 0 0 45%;
            }

            .nav-arrow {
                display: block;
            }

            .product-grid-wrapper {
                padding: 0 30px;
            }
        }

        @media (max-width: 480px) {
            .product-title {
                font-size: 20px;
            }
            
            .section-title {
                font-size: 18px;
            }
            
            .product-card {
                flex: 0 0 80%;
            }
            
            .faq-section {
                padding: 20px 15px;
            }
            
            .tab {
                overflow-x: auto;
                white-space: nowrap;
                flex-wrap: nowrap;
            }

            .product-grid-wrapper {
                padding: 0 20px;
            }
        }
    </style>
</head>
{% load static %}
<body>
    <!-- Header -->
   <!-- Header -->
<header class="header">
  <div class="logo">
    <img src="{% static 'img/unsplash_HvkDYluePqw.png' %}" alt="LOGO">
    <span class="shop-name">BEAUTYA</span>
  </div>

  <nav class="nav-menu">
    <a href="{% url 'home' %}" class="nav-link">Home</a>
    <a href="{% url 'product_list' %}" class="nav-link">Products</a>
    <a href="{% url 'about' %}" class="nav-link">About Us</a>
    <a href="{% url 'contact' %}" class="nav-link">Contacts</a>
    <a href="{% url 'login' %}" class="nav-link">Sign in</a>
  </nav>

  <div class="header-actions">
    <div class="cart-wrapper">
      <i class="fas fa-shopping-cart cart-icon" onclick="goToCart()"></i>
      <span class="cart-count">0</span>
    </div>
    <i class="fa-solid fa-magnifying-glass search-icon" onclick="toggleSearchBar()"></i>
  </div>
</header>

<!-- Hidden Search Bar (will be shown on icon click) -->
<div id="search-bar-wrapper" style="display: none; padding: 12px; background-color: #f3f3f3; text-align: center;">
  <form method="get" action="{% url 'search' %}" style="display: inline-flex; gap: 8px;">
    <input type="text" name="q" placeholder="Tìm kiếm sản phẩm..." required
           style="padding: 8px; width: 250px; border: 1px solid #ccc; border-radius: 4px;">
    <button type="submit" style="padding: 8px 16px; background-color: #8B4513; color: white; border: none; border-radius: 4px;">
      Tìm
    </button>
  </form>
</div>

<!-- Scripts -->
<script>
  function goToCart() {
    window.location.href = "{% url 'cart' %}";
  }

  function toggleSearchBar() {
    const wrapper = document.getElementById('search-bar-wrapper');
    if (wrapper.style.display === 'none') {
      wrapper.style.display = 'block';
    } else {
      wrapper.style.display = 'none';
    }
  }
</script>


    <main class="main-container">
        <div class="product-container">
            <!-- Ảnh sản phẩm -->
            <div class="product-gallery">
                <div class="main-image">
                    <img src="{{ product.image.url }}" id="currentImage" alt="{{ product.name }}">
                </div>
                <div class="thumbnail-list">
                    <img src="{{ product.image.url }}" class="thumbnail active" alt="{{ product.name }}">
                </div>
            </div>

            <!-- Chi tiết sản phẩm -->
            <div class="product-details">
                <h1 class="product-title">{{ product.name }}</h1>
                <p class="product-subtitle">{{ product.description }}</p>

                <!-- Đánh giá -->
                <div class="product-rating">
                    <div class="stars">
                        ⭐⭐⭐⭐⭐ <span class="rating-count">({{ product.rating }} | {{ product.review_count }} Đánh giá)</span>
                        <span class="sold-count"> | Đã bán {{ product.sold_count }}</span>
                    </div>
                </div>

                <!-- Giá -->
                <div class="price-container">
                    <span class="current-price">₫{{ product.price }}</span>
                    {% if product.original_price %}<span class="original-price">₫{{ product.original_price }}</span>{% endif %}
                </div>

                <!-- Mã giảm giá -->
                {% if product.vouchers %}
                <div class="voucher-section">
                    <span class="voucher-label">Mã giảm giá:</span>
                    {% for v in product.vouchers.split(',') %}<span class="voucher-code">{{ v }}</span>{% endfor %}
                </div>
                {% endif %}

                <!-- Combo khuyến mãi -->
                {% if product.combo %}
                <div class="combo-section">
                    <strong>Combo:</strong> {{ product.combo }}
                </div>
                {% endif %}

                <!-- Vận chuyển -->
                {% if product.shipping %}
                <div class="shipping-section">
                    <strong>Vận chuyển:</strong> {{ product.shipping }}
                </div>
                {% endif %}

                <!-- Số lượng -->
                <div class="quantity-section">
                    <label for="quantity">Số lượng:</label>
                    <input type="number" id="quantity" name="quantity" min="1" value="1">
                </div>

                <!-- Tính năng nổi bật -->
                {% if product.features %}
                <ul class="product-features">
                    {% for feature in product.features.split('\n') %}
                        <li>{{ feature }}</li>
                    {% endfor %}
                </ul>
                {% endif %}

                <!-- Nút mua -->
                <div class="action-buttons">
                    <button class="add-to-cart">Thêm vào giỏ hàng</button>
                    <button class="buy-now">Mua ngay</button>
                </div>
            </div>
        </div>

        <!-- Tabs chi tiết -->
        <div class="tabs-container">
            <div class="tab">
                <button class="tablinks active" onclick="openTab(event, 'Description')">Description</button>
                <button class="tablinks" onclick="openTab(event, 'Ingredients')">Ingredients</button>
                <button class="tablinks" onclick="openTab(event, 'HowToUse')">How to Use</button>
                <button class="tablinks" onclick="openTab(event, 'Reviews')">Reviews</button>
            </div>

            <div id="Description" class="tabcontent" style="display: block;">
                <div class="tab-content-wrapper">
                    <p>{{ product.detail }}</p>
                </div>
            </div>

            <div id="Ingredients" class="tabcontent">
                <div class="tab-content-wrapper">
                    <p>{{ product.ingredients }}</p>
                </div>
            </div>

            <div id="HowToUse" class="tabcontent">
                <div class="tab-content-wrapper">
                    <p>{{ product.how_to_use }}</p>
                </div>
            </div>

            <div id="Reviews" class="tabcontent">
                <div class="tab-content-wrapper">
                    <p>{{ product.reviews }}</p>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        {% if product.faqs %}
        <div class="faq-section">
            <h2 class="section-title">Frequently Asked Questions</h2>
            {% for item in product.faqs %}
            <div class="faq-item">
                <div class="faq-question">{{ item.question }} <span class="toggle-icon">+</span></div>
                <div class="faq-answer">{{ item.answer }}</div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Recommended Skincare Routine Section -->
        {% if product.recommendations %}
        <div class="related-products">
            <h2 class="section-title">Recommended Skincare Routine</h2>
            <div class="product-grid-wrapper">
                <button class="nav-arrow left" onclick="scrollGrid('recommendedGrid', -1)">❮</button>
                <div class="product-grid" id="recommendedGrid">
                    {% for p in product.recommendations %}
                    <div class="product-card">
                        <img class="product-card-image" src="{{ p.image.url }}" alt="{{ p.name }}">
                        <div class="product-card-details">
                            <h3 class="product-card-title">{{ p.name }}</h3>
                            <p class="product-card-description">{{ p.description }}</p>
                            <div class="product-card-price">₫{{ p.price }}</div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <button class="nav-arrow right" onclick="scrollGrid('recommendedGrid', 1)">❯</button>
            </div>
        </div>
        {% endif %}

        <!-- You May Also Like Section -->
        {% if product.related_products %}
        <div class="you-may-also-like">
            <h2 class="section-title">You May Also Like</h2>
            <div class="product-grid-wrapper">
                <button class="nav-arrow left" onclick="scrollGrid('alsoLikeGrid', -1)">❮</button>
                <div class="product-grid" id="alsoLikeGrid">
                    {% for p in product.related_products %}
                    <div class="product-card">
                        <img class="product-card-image" src="{{ p.image.url }}" alt="{{ p.name }}">
                        <div class="product-card-details">
                            <h3 class="product-card-title">{{ p.name }}</h3>
                            <p class="product-card-description">{{ p.description }}</p>
                            <div class="product-card-price">₫{{ p.price }}</div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <button class="nav-arrow right" onclick="scrollGrid('alsoLikeGrid', 1)">❯</button>
            </div>
        </div>
        {% endif %}
    </main>

    <script>
        // Function to handle tab switching
        function openTab(evt, tabName) {
            const tabcontent = document.getElementsByClassName("tabcontent");
            for (let i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            const tablinks = document.getElementsByClassName("tablinks");
            for (let i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Function to handle thumbnail image clicks
        function initThumbnails() {
            const thumbnails = document.querySelectorAll('.thumbnail');
            const mainImage = document.querySelector('.main-image img');
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    mainImage.src = this.src;
                    thumbnails.forEach(thumb => {
                        thumb.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
        }

        // Function to handle FAQ toggles
        function initFAQToggles() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    const toggleIcon = this.querySelector('.toggle-icon');
                    if (answer.style.display === 'block') {
                        answer.style.display = 'none';
                        toggleIcon.textContent = '+';
                    } else {
                        answer.style.display = 'block';
                        toggleIcon.textContent = '-';
                    }
                });
            });
        }

        // Function to handle product grid scrolling
        function scrollGrid(gridId, direction) {
            const grid = document.getElementById(gridId);
            const scrollAmount = 270; // Width of each product card (250px) + gap (20px)
            grid.scrollLeft += direction * scrollAmount;

            // Disable/enable arrows based on scroll position
            const leftArrow = grid.parentElement.querySelector('.nav-arrow.left');
            const rightArrow = grid.parentElement.querySelector('.nav-arrow.right');
            leftArrow.disabled = grid.scrollLeft <= 0;
            rightArrow.disabled = grid.scrollLeft + grid.clientWidth >= grid.scrollWidth - 1;
        }

        // Initialize everything when DOM is fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('.tablinks').click();
            initThumbnails();
            initFAQToggles();
            const buyButton = document.querySelector('.buy-button');
            if (buyButton) {
                buyButton.addEventListener('mouseover', function() {
                    this.style.backgroundColor = '#b50e69';
                });
                buyButton.addEventListener('mouseout', function() {
                    this.style.backgroundColor = '#d8127d';
                });
            }

            // Initialize scroll arrows
            const grids = document.querySelectorAll('.product-grid');
            grids.forEach(grid => {
                const leftArrow = grid.parentElement.querySelector('.nav-arrow.left');
                const rightArrow = grid.parentElement.querySelector('.nav-arrow.right');
                leftArrow.disabled = grid.scrollLeft <= 0;
                rightArrow.disabled = grid.scrollLeft + grid.clientWidth >= grid.scrollWidth - 1;
            });
        });
    </script>

    <!-- Footer -->
    <footer>
        <div class="footer-top">
            <div class="benefit-item">
                <i class="fas fa-paw benefit-icon"></i>
                <span class="benefit-text">Không thử nghiệm trên động vật</span>
            </div>
            <div class="benefit-item">
                <i class="fas fa-leaf benefit-icon"></i>
                <span class="benefit-text">Không có thành phần từ động vật</span>
            </div>
            <div class="benefit-item">
                <i class="fas fa-bread-slice benefit-icon"></i>
                <span class="benefit-text">Không có gluten, hoặc sản phẩm phụ từ gluten</span>
            </div>
            <div class="benefit-item">
                <i class="fas fa-recycle benefit-icon"></i>
                <span class="benefit-text">Bao bì có thể tái chế</span>
            </div>
        </div>
        <div class="footer-main">
            <div class="footer-column">
                <h3>Chúng tôi có thể giúp gì?</h3>
                <ul>
                    <li><a href="#">Beautya branches</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Blog</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Products</h3>
                <ul>
                    <li><a href="#">Chính Sách Bảo Mật</a></li>
                    <li><a href="#">Chính Sách Bảo Hành</a></li>
                    <li><a href="#">Trả Hàng/Hoàn Tiền</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Giữ liên lạc với Beautya</h3>
                <p style="color: white; margin-bottom: 24px">
                    Hãy tham gia nhận bản tin của Beautya để là người đầu tiên biết về tin tức, ưu đãi và lời khuyên chăm sóc da.
                </p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Email" class="newsletter-input" />
                    <button type="submit" class="newsletter-submit">Subscribe</button>
                </form>
                <label class="consent-text">
                    <input type="checkbox" required>
                    Bằng cách gửi email của bạn, bạn đồng ý nhận các email quảng cáo từ Beautya.
                </label>
            </div>
        </div>
        <div class="footer-contact-row">
            <div class="footer-contact-group">
                <span><i class="fas fa-map-marker-alt"></i>Hà Nội, Việt Nam</span>
                <span><i class="fas fa-phone-alt"></i>0-123-456-789</span>
            </div>
            <div class="footer-social-group">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-pinterest"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="copyright">© 2025 Beautya. All Rights Reserved.</div>
            <div class="legal-links">
                <a href="#">Terms & Conditions</a>
                <a href="#">Privacy Policy</a>
            </div>
        </div>
    </footer>
</body>
</html>